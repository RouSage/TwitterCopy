$(document).ready(function(){$("#deleteTweetModal").on("show.bs.modal",function(n){var i=$(n.relatedTarget),t=i.data("tweet"),r=$("#deleteTweetForm");r.attr("action",`/Index?handler=delete&id=${t}`);$.ajax({type:"GET",url:`/Index?handler=Tweet&id=${t}`,contentType:"application/json",dataType:"json",success:function(n){var t=$("#tweetInfoBody"),f;t.empty();var i=$('<ul class="list-inline">'),r=$('<li class="list-inline-item">').append(`<a href="/${n.authorSlug}">${n.authorName}</a>`),u=$('<li class="list-inline-item">').append(`<span class="text-muted">@${n.authorSlug}</span>`);i.append(r,u).appendTo(t);f=$("<p>").append(n.text).appendTo(t)},failure:function(n){alert(n)}})});$("#deleteTweetModal").on("hide.bs.modal",function(){var t=$("#deleteTweetForm"),n;t.removeAttr("action");n=$("#tweetInfoBody");n.empty()});$(".btn-like").click(function(){var n=$(this),t=n.data("id");$.ajax({type:"GET",url:`/Index?handler=UpdateLikes&id=${t}`,contentType:"application/json",dataType:"json",success:function(t){var i=n.find("span");i.text(`${t}`)},failure:function(n){console.log(n)}})});$("#sendTweetForm input[type=submit]").prop("disabled",!0);$("#sendTweetForm input[type=submit]").hide();$("#sendTweetForm").focusin(function(){$("#sendTweetForm input[type=submit]").show()});$("#sendTweetForm").focusout(function(){$(this).find("input[type = text]").val().trim()||$("#sendTweetForm input[type=submit]").hide()});$("#sendTweetForm input[type=text]").keyup(function(){var n=$("#sendTweetForm input[type=submit]");$(this).val().trim()?n.prop("disabled",!1):n.prop("disabled",!0)});$(".btn-follow-main").click(function(n){n.preventDefault();var t=$(this),i=t.find("span").data("username");$.ajax({type:"POST",url:`/Index/?handler=Follow&userName=${i}`,beforeSend:function(n){n.setRequestHeader("XSRF-TOKEN",$('input:hidden[name="__RequestVerificationToken"]').val())},contentType:"application/json",dataType:"json",success:function(n){t.addClass("d-none");$(".btn-following-main").removeClass("d-none");$("#followersCount span").text(n)}})});$(".btn-following-main").mouseenter(function(){$(this).addClass("d-none");$(".btn-unfollow-main").removeClass("d-none")});$(".btn-unfollow-main").mouseleave(function(){$(this).addClass("d-none");$(".btn-following-main").removeClass("d-none")})});